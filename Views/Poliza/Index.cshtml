@model IEnumerable<Seguroquesi.Models.Poliza>
@using System.Globalization

@{
    ViewData["Title"] = "Pólizas";
}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="mb-0">Pólizas en Cartera</h1>
    <a asp-action="Create" class="btn btn-primary">Cotizar Póliza</a>
</div>

<div class="table-responsive">
    <table class="table table-bordered table-striped align-middle">
        <thead class="table-dark">
            <tr>
                <th>@Html.DisplayNameFor(m => m.NumeroPoliza)</th>
                <th>@Html.DisplayNameFor(m => m.FechaInicio)</th>
                <th>@Html.DisplayNameFor(m => m.FechaFin)</th>
                <th>@Html.DisplayNameFor(m => m.EstadoPoliza)</th>
                <th>@Html.DisplayNameFor(m => m.Tipo)</th>
                <th>@Html.DisplayNameFor(m => m.Moneda)</th>
                <th>@Html.DisplayNameFor(m => m.Pais)</th>
                <th>@Html.DisplayNameFor(m => m.Prima)</th>
                <th>@Html.DisplayNameFor(m => m.Cobertura)</th>
                <th>@Html.DisplayNameFor(m => m.NumeroDocumento)</th>
                <th>@Html.DisplayNameFor(m => m.TipoDocumentoPersona)</th>
                <th>@Html.DisplayNameFor(m => m.NombreTomador)</th>
                <th>@Html.DisplayNameFor(m => m.ApellidoTomador)</th>
                <th>@Html.DisplayNameFor(m => m.Ciudad)</th>
                <th>@Html.DisplayNameFor(m => m.CodigoPostal)</th>
                <th>@Html.DisplayNameFor(m => m.FechaNacimiento)</th>
                <th>@Html.DisplayNameFor(m => m.Genero)</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.NumeroPoliza</td>
                    <td>@item.FechaInicio.ToString("dd/MM/yyyy")</td>
                    <td>@item.FechaFin.ToString("dd/MM/yyyy")</td>
                    <td>@item.EstadoPoliza</td>
                    <td>@item.Tipo</td>
                    <td>@item.Moneda</td>
                    <td>@item.Pais</td>
                    <td>@item.Prima.ToString("C", CultureInfo.CurrentCulture)</td>
                    <td>@item.Cobertura</td>
                    <td>@item.NumeroDocumento</td>
                    <td>@item.TipoDocumentoPersona</td>
                    <td>@item.NombreTomador</td>
                    <td>@item.ApellidoTomador</td>
                    <td>@item.Ciudad</td>
                    <td>@item.CodigoPostal</td>
                    <td>@item.FechaNacimiento.ToString("dd/MM/yyyy")</td>
                    <td>@item.Genero</td>
                    <td>
                        <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-sm btn-outline-primary">Editar</a>
                        <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-sm btn-outline-info">Detalles</a>
                        <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-sm btn-outline-danger">Eliminar</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>